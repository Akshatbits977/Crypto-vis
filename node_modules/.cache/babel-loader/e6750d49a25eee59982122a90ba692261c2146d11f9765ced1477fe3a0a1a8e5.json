{"ast":null,"code":"// LibraryTabsFilters.js\nimport React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LibraryTabsFilters(_ref){let{onFilterChange}=_ref;const[startDate,setStartDate]=useState('');const[endDate,setEndDate]=useState('');const[metadataFilters,setMetadataFilters]=useState({});const[metadataValues,setMetadataValues]=useState({});useEffect(()=>{// Fetch metadata values\nfetch('https://perfwsw3.aus.stglabs.ibm.com:3011/fetchCollectionData/merged').then(response=>response.json()).then(fetchedData=>{const metadataHeaders=fetchedData.length>0?Object.keys(fetchedData[0].metadata):[];const uniqueValues={};metadataHeaders.forEach(header=>{const values=fetchedData.map(entry=>entry.metadata[header]);uniqueValues[header]=[...new Set(values)];});setMetadataValues(uniqueValues);});},[]);const handleStartDateChange=e=>{setStartDate(e.target.value);};const handleEndDateChange=e=>{setEndDate(e.target.value);};const handleMetadataFilterChange=(header,value)=>{setMetadataFilters(prevFilters=>({...prevFilters,[header]:value}));};const handleApplyFilters=()=>{onFilterChange({startDate,endDate,metadataFilters});};return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filters\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:handleStartDateChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"End Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate,onChange:handleEndDateChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Metadata Filters:\"}),Object.keys(metadataValues).map(header=>{var _metadataValues$heade;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[header,\":\"]}),/*#__PURE__*/_jsxs(\"select\",{value:metadataFilters[header]||'',onChange:e=>handleMetadataFilterChange(header,e.target.value),children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",children:[\"Select \",header]}),(_metadataValues$heade=metadataValues[header])===null||_metadataValues$heade===void 0?void 0:_metadataValues$heade.map(value=>/*#__PURE__*/_jsx(\"option\",{value:value,children:value},value))]})]},header);})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleApplyFilters,children:\"Apply Filters\"})]});}export default LibraryTabsFilters;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","LibraryTabsFilters","_ref","onFilterChange","startDate","setStartDate","endDate","setEndDate","metadataFilters","setMetadataFilters","metadataValues","setMetadataValues","fetch","then","response","json","fetchedData","metadataHeaders","length","Object","keys","metadata","uniqueValues","forEach","header","values","map","entry","Set","handleStartDateChange","e","target","value","handleEndDateChange","handleMetadataFilterChange","prevFilters","handleApplyFilters","style","marginTop","children","type","onChange","_metadataValues$heade","onClick"],"sources":["/home/toolsuser/akshat/crypto_new/crab_app/src/react-login-app/src/LibraryTabsFilters.js"],"sourcesContent":["// LibraryTabsFilters.js\nimport React, { useState, useEffect } from 'react';\n\nfunction LibraryTabsFilters({ onFilterChange }) {\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [metadataFilters, setMetadataFilters] = useState({});\n  const [metadataValues, setMetadataValues] = useState({});\n\n  useEffect(() => {\n    // Fetch metadata values\n    fetch('https://perfwsw3.aus.stglabs.ibm.com:3011/fetchCollectionData/merged')\n      .then((response) => response.json())\n      .then((fetchedData) => {\n        const metadataHeaders = fetchedData.length > 0 ? Object.keys(fetchedData[0].metadata) : [];\n        const uniqueValues = {};\n\n        metadataHeaders.forEach((header) => {\n          const values = fetchedData.map((entry) => entry.metadata[header]);\n          uniqueValues[header] = [...new Set(values)];\n        });\n\n        setMetadataValues(uniqueValues);\n      });\n  }, []);\n\n  const handleStartDateChange = (e) => {\n    setStartDate(e.target.value);\n  };\n\n  const handleEndDateChange = (e) => {\n    setEndDate(e.target.value);\n  };\n\n  const handleMetadataFilterChange = (header, value) => {\n    setMetadataFilters((prevFilters) => ({\n      ...prevFilters,\n      [header]: value,\n    }));\n  };\n\n  const handleApplyFilters = () => {\n    onFilterChange({\n      startDate,\n      endDate,\n      metadataFilters,\n    });\n  };\n\n  return (\n    <div style={{ marginTop: '20px' }}>\n      <h3>Filters</h3>\n      <div>\n        <label>Start Date:</label>\n        <input type=\"date\" value={startDate} onChange={handleStartDateChange} />\n      </div>\n      <div>\n        <label>End Date:</label>\n        <input type=\"date\" value={endDate} onChange={handleEndDateChange} />\n      </div>\n      <div>\n        <h4>Metadata Filters:</h4>\n        {Object.keys(metadataValues).map((header) => (\n          <div key={header}>\n            <label>{header}:</label>\n            <select\n              value={metadataFilters[header] || ''}\n              onChange={(e) => handleMetadataFilterChange(header, e.target.value)}\n            >\n              <option value=\"\">Select {header}</option>\n              {metadataValues[header]?.map((value) => (\n                <option key={value} value={value}>\n                  {value}\n                </option>\n              ))}\n            </select>\n          </div>\n        ))}\n      </div>\n      <button onClick={handleApplyFilters}>Apply Filters</button>\n    </div>\n  );\n}\n\nexport default LibraryTabsFilters;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}