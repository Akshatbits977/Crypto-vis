{"ast":null,"code":"var _jsxFileName = \"/home/toolsuser/akshat/crypto_new/crab_app/src/react-login-app/src/LibraryTabsFilters.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LibraryTabsFilters({\n  onFilterChange,\n  metadataHeaders,\n  data\n}) {\n  _s();\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [metadataFilters, setMetadataFilters] = useState({});\n  const [uniqueFilterValues, setUniqueFilterValues] = useState({});\n  const handleStartDateChange = e => {\n    setStartDate(e.target.value);\n  };\n  const handleEndDateChange = e => {\n    setEndDate(e.target.value);\n  };\n  const handleMetadataFilterChange = (header, value) => {\n    setMetadataFilters(prevFilters => ({\n      ...prevFilters,\n      [header]: value\n    }));\n\n    // Update unique filter values when a filter changes\n    const uniqueValues = getUniqueValuesForFilter(header);\n    setUniqueFilterValues(uniqueValues);\n  };\n  const handleApplyFilters = () => {\n    onFilterChange({\n      startDate,\n      endDate,\n      metadataFilters\n    });\n  };\n\n  // Function to get unique values for a metadata filter\n  const getUniqueValuesForFilter = filter => {\n    const allValues = data.reduce((acc, entry) => {\n      if (entry.metadata && entry.metadata[filter]) {\n        acc.push(entry.metadata[filter]);\n      }\n      return acc;\n    }, []);\n    return [...new Set(allValues)];\n  };\n  useEffect(() => {\n    // Initialize unique filter values for the first render\n    const initialUniqueValues = metadataHeaders.reduce((acc, header) => {\n      acc[header] = getUniqueValuesForFilter(header);\n      return acc;\n    }, {});\n    setUniqueFilterValues(initialUniqueValues);\n  }, [metadataHeaders, data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Filters\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Start Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: startDate,\n        onChange: handleStartDateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"End Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: endDate,\n        onChange: handleEndDateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Metadata Filters:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), metadataHeaders.map(header => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [header, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: metadataFilters[header] || '',\n          onChange: e => handleMetadataFilterChange(header, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), uniqueFilterValues[header] && /*#__PURE__*/_jsxDEV(\"select\", {\n          value: metadataFilters[header] || '',\n          onChange: e => handleMetadataFilterChange(header, e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), uniqueFilterValues[header].map((value, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: value,\n            children: value\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this)]\n      }, header, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleApplyFilters,\n      children: \"Apply Filters\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(LibraryTabsFilters, \"ionzvXsmdy5oLvRgwtG/Z8IL15I=\");\n_c = LibraryTabsFilters;\nexport default LibraryTabsFilters;\nvar _c;\n$RefreshReg$(_c, \"LibraryTabsFilters\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","LibraryTabsFilters","onFilterChange","metadataHeaders","data","_s","startDate","setStartDate","endDate","setEndDate","metadataFilters","setMetadataFilters","uniqueFilterValues","setUniqueFilterValues","handleStartDateChange","e","target","value","handleEndDateChange","handleMetadataFilterChange","header","prevFilters","uniqueValues","getUniqueValuesForFilter","handleApplyFilters","filter","allValues","reduce","acc","entry","metadata","push","Set","initialUniqueValues","style","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","map","index","onClick","_c","$RefreshReg$"],"sources":["/home/toolsuser/akshat/crypto_new/crab_app/src/react-login-app/src/LibraryTabsFilters.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction LibraryTabsFilters({ onFilterChange, metadataHeaders, data }) {\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [metadataFilters, setMetadataFilters] = useState({});\n  const [uniqueFilterValues, setUniqueFilterValues] = useState({});\n\n  const handleStartDateChange = (e) => {\n    setStartDate(e.target.value);\n  };\n\n  const handleEndDateChange = (e) => {\n    setEndDate(e.target.value);\n  };\n\n  const handleMetadataFilterChange = (header, value) => {\n    setMetadataFilters((prevFilters) => ({\n      ...prevFilters,\n      [header]: value,\n    }));\n\n    // Update unique filter values when a filter changes\n    const uniqueValues = getUniqueValuesForFilter(header);\n    setUniqueFilterValues(uniqueValues);\n  };\n\n  const handleApplyFilters = () => {\n    onFilterChange({\n      startDate,\n      endDate,\n      metadataFilters,\n    });\n  };\n\n  // Function to get unique values for a metadata filter\n  const getUniqueValuesForFilter = (filter) => {\n    const allValues = data.reduce((acc, entry) => {\n      if (entry.metadata && entry.metadata[filter]) {\n        acc.push(entry.metadata[filter]);\n      }\n      return acc;\n    }, []);\n\n    return [...new Set(allValues)];\n  };\n\n  useEffect(() => {\n    // Initialize unique filter values for the first render\n    const initialUniqueValues = metadataHeaders.reduce((acc, header) => {\n      acc[header] = getUniqueValuesForFilter(header);\n      return acc;\n    }, {});\n\n    setUniqueFilterValues(initialUniqueValues);\n  }, [metadataHeaders, data]);\n\n  return (\n    <div style={{ marginTop: '20px' }}>\n      <h3>Filters</h3>\n      <div>\n        <label>Start Date:</label>\n        <input type=\"date\" value={startDate} onChange={handleStartDateChange} />\n      </div>\n      <div>\n        <label>End Date:</label>\n        <input type=\"date\" value={endDate} onChange={handleEndDateChange} />\n      </div>\n      <div>\n        <h4>Metadata Filters:</h4>\n        {metadataHeaders.map((header) => (\n          <div key={header}>\n            <label>{header}:</label>\n            <input\n              type=\"text\"\n              value={metadataFilters[header] || ''}\n              onChange={(e) => handleMetadataFilterChange(header, e.target.value)}\n            />\n            {/* Display unique values for the metadata filter */}\n            {uniqueFilterValues[header] && (\n              <select\n                value={metadataFilters[header] || ''}\n                onChange={(e) => handleMetadataFilterChange(header, e.target.value)}\n              >\n                <option value=\"\">All</option>\n                {uniqueFilterValues[header].map((value, index) => (\n                  <option key={index} value={value}>\n                    {value}\n                  </option>\n                ))}\n              </select>\n            )}\n          </div>\n        ))}\n      </div>\n      <button onClick={handleApplyFilters}>Apply Filters</button>\n    </div>\n  );\n}\n\nexport default LibraryTabsFilters;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,SAASC,kBAAkBA,CAAC;EAAEC,cAAc;EAAEC,eAAe;EAAEC;AAAK,CAAC,EAAE;EAAAC,EAAA;EACrE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACa,eAAe,EAAEC,kBAAkB,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1D,MAAM,CAACe,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEhE,MAAMiB,qBAAqB,GAAIC,CAAC,IAAK;IACnCR,YAAY,CAACQ,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC9B,CAAC;EAED,MAAMC,mBAAmB,GAAIH,CAAC,IAAK;IACjCN,UAAU,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC5B,CAAC;EAED,MAAME,0BAA0B,GAAGA,CAACC,MAAM,EAAEH,KAAK,KAAK;IACpDN,kBAAkB,CAAEU,WAAW,KAAM;MACnC,GAAGA,WAAW;MACd,CAACD,MAAM,GAAGH;IACZ,CAAC,CAAC,CAAC;;IAEH;IACA,MAAMK,YAAY,GAAGC,wBAAwB,CAACH,MAAM,CAAC;IACrDP,qBAAqB,CAACS,YAAY,CAAC;EACrC,CAAC;EAED,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAC/BtB,cAAc,CAAC;MACbI,SAAS;MACTE,OAAO;MACPE;IACF,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMa,wBAAwB,GAAIE,MAAM,IAAK;IAC3C,MAAMC,SAAS,GAAGtB,IAAI,CAACuB,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;MAC5C,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACL,MAAM,CAAC,EAAE;QAC5CG,GAAG,CAACG,IAAI,CAACF,KAAK,CAACC,QAAQ,CAACL,MAAM,CAAC,CAAC;MAClC;MACA,OAAOG,GAAG;IACZ,CAAC,EAAE,EAAE,CAAC;IAEN,OAAO,CAAC,GAAG,IAAII,GAAG,CAACN,SAAS,CAAC,CAAC;EAChC,CAAC;EAED5B,SAAS,CAAC,MAAM;IACd;IACA,MAAMmC,mBAAmB,GAAG9B,eAAe,CAACwB,MAAM,CAAC,CAACC,GAAG,EAAER,MAAM,KAAK;MAClEQ,GAAG,CAACR,MAAM,CAAC,GAAGG,wBAAwB,CAACH,MAAM,CAAC;MAC9C,OAAOQ,GAAG;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IAENf,qBAAqB,CAACoB,mBAAmB,CAAC;EAC5C,CAAC,EAAE,CAAC9B,eAAe,EAAEC,IAAI,CAAC,CAAC;EAE3B,oBACEJ,OAAA;IAAKkC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAChCpC,OAAA;MAAAoC,QAAA,EAAI;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAChBxC,OAAA;MAAAoC,QAAA,gBACEpC,OAAA;QAAAoC,QAAA,EAAO;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC1BxC,OAAA;QAAOyC,IAAI,EAAC,MAAM;QAACxB,KAAK,EAAEX,SAAU;QAACoC,QAAQ,EAAE5B;MAAsB;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrE,CAAC,eACNxC,OAAA;MAAAoC,QAAA,gBACEpC,OAAA;QAAAoC,QAAA,EAAO;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACxBxC,OAAA;QAAOyC,IAAI,EAAC,MAAM;QAACxB,KAAK,EAAET,OAAQ;QAACkC,QAAQ,EAAExB;MAAoB;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjE,CAAC,eACNxC,OAAA;MAAAoC,QAAA,gBACEpC,OAAA;QAAAoC,QAAA,EAAI;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACzBrC,eAAe,CAACwC,GAAG,CAAEvB,MAAM,iBAC1BpB,OAAA;QAAAoC,QAAA,gBACEpC,OAAA;UAAAoC,QAAA,GAAQhB,MAAM,EAAC,GAAC;QAAA;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxBxC,OAAA;UACEyC,IAAI,EAAC,MAAM;UACXxB,KAAK,EAAEP,eAAe,CAACU,MAAM,CAAC,IAAI,EAAG;UACrCsB,QAAQ,EAAG3B,CAAC,IAAKI,0BAA0B,CAACC,MAAM,EAAEL,CAAC,CAACC,MAAM,CAACC,KAAK;QAAE;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC,EAED5B,kBAAkB,CAACQ,MAAM,CAAC,iBACzBpB,OAAA;UACEiB,KAAK,EAAEP,eAAe,CAACU,MAAM,CAAC,IAAI,EAAG;UACrCsB,QAAQ,EAAG3B,CAAC,IAAKI,0BAA0B,CAACC,MAAM,EAAEL,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;UAAAmB,QAAA,gBAEpEpC,OAAA;YAAQiB,KAAK,EAAC,EAAE;YAAAmB,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC5B5B,kBAAkB,CAACQ,MAAM,CAAC,CAACuB,GAAG,CAAC,CAAC1B,KAAK,EAAE2B,KAAK,kBAC3C5C,OAAA;YAAoBiB,KAAK,EAAEA,KAAM;YAAAmB,QAAA,EAC9BnB;UAAK,GADK2B,KAAK;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEV,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CACT;MAAA,GApBOpB,MAAM;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAqBX,CACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNxC,OAAA;MAAQ6C,OAAO,EAAErB,kBAAmB;MAAAY,QAAA,EAAC;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxD,CAAC;AAEV;AAACnC,EAAA,CAhGQJ,kBAAkB;AAAA6C,EAAA,GAAlB7C,kBAAkB;AAkG3B,eAAeA,kBAAkB;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}